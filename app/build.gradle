plugins {
    id 'com.android.application'
    id 'org.jetbrains.kotlin.android' version '1.7.22' apply true
}

android {
    compileSdkVersion 33
    buildToolsVersion "30.0.2"
    defaultConfig {
        applicationId "com.example.empty"
        minSdkVersion 23
        //noinspection ExpiredTargetSdkVersion,OldTargetApi
        targetSdkVersion 30
        versionCode 1
        versionName "1.0"
        ndk {
            abiFilters 'armeabi-v7a', 'arm64-v8a', 'x86_64', 'x86'
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_1_8
        targetCompatibility JavaVersion.VERSION_1_8
    }
    kotlinOptions {
        jvmTarget = '1.8'
    }

    packagingOptions {
        exclude 'META-INF/*'
        exclude 'META-INF/CERT.SF'
        exclude 'META-INF/CERT.RSA'
        exclude 'META-INF/MANIFEST.MF'
        exclude 'META-INF/NOTICE.txt'
        exclude 'META-INF/lifecycle-common.kotlin_module'
        exclude 'META-INF/annotation-experimental_release.kotlin_module'
        exclude 'META-INF/core_release.kotlin_module'
        exclude 'META-INF/activity_release.kotlin_module'
        exclude 'META-INF/lifecycle-livedata_release.kotlin_module'
        exclude 'META-INF/activity-ktx_release.kotlin_module'
        exclude 'META-INF/lifecycle-viewmodel-savedstate_release.kotlin_module'
        exclude 'META-INF/savedstate-ktx_release.kotlin_module'
        exclude 'META-INF/lifecycle-livedata-ktx_release.kotlin_module'
        exclude 'META-INF/lifecycle-livedata-core-ktx_release.kotlin_module'
        exclude 'META-INF/core-ktx_release.kotlin_module'
        exclude 'META-INF/lifecycle-livedata-core_release.kotlin_module'
        exclude 'META-INF/savedstate_release.kotlin_module'
        exclude 'META-INF/lifecycle-runtime-ktx_release.kotlin_module'
        exclude 'META-INF/lifecycle-runtime_release.kotlin_module'
        exclude 'META-INF/kotlinx-coroutines-core.kotlin_module'
        exclude 'META-INF/appcompat_release.kotlin_module'
        exclude 'META-INF/recyclerview_release.kotlin_module'
        exclude 'META-INF/kotlinx-coroutines-android.kotlin_module'
        exclude 'META-INF/lifecycle-viewmodel_release.kotlin_module'
        exclude 'META-INF/lifecycle-viewmodel-ktx_release.kotlin_module'
    }
}

dependencies {
    //region Lifecycle
    implementation("androidx.lifecycle:lifecycle-runtime-ktx:2.6.1") {
        exclude group: 'org.jetbrains.kotlin'
    }
    implementation("androidx.lifecycle:lifecycle-common-java8:2.6.1") {
        exclude group: 'org.jetbrains.kotlin'
    }
    implementation("androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.1") {
        exclude group: 'org.jetbrains.kotlin'
    }
    implementation("androidx.lifecycle:lifecycle-livedata-core-ktx:2.6.1") {
        exclude group: 'org.jetbrains.kotlin'
    }
    implementation("androidx.lifecycle:lifecycle-livedata-ktx:2.6.1") {
        exclude group: 'org.jetbrains.kotlin'
    }
    //endregion

    implementation "org.jetbrains.kotlin:kotlin-stdlib:1.7.22"
    implementation "org.jetbrains.kotlin:kotlin-stdlib-common:1.7.22"
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.22"
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.22"
}


configurations.configureEach {
    resolutionStrategy {
        force "org.jetbrains.kotlin:kotlin-stdlib:1.7.22"
        force "org.jetbrains.kotlin:kotlin-stdlib-common:1.7.22"
        force "org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.7.22"
        force "org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.7.22"
        println("Print Variable : rootProject.ext.kotlin_version : ${rootProject.ext.kotlin_version}")
    }
}



//buildscript {
//    ext.kotlin_version = '1.7.22'
//    repositories {
//        maven { url "https://maven.aliyun.com/repository/google" }
//        mavenCentral()
//        jcenter()
//    }
////    dependencies {
////        classpath 'com.android.tools.build:gradle:7.0.0'
////        classpath "org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.22"
////    }
//}
